<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Bonding auction contract interface"><meta name="keywords" content="rust, rustlang, rust-lang, Auction"><title>Auction in casper_types::system::auction - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><script defer src="../../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="shortcut icon" href="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;CasperLabs&#x2F;casper-node&#x2F;master&#x2F;images&#x2F;CasperLabs_Logo_Favicon_RGB_50px.png"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../../../casper_types/index.html"><div class="logo-container"><img src="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;CasperLabs&#x2F;casper-node&#x2F;master&#x2F;images&#x2F;CasperLabs_Logo_Symbol_RGB.png" alt="logo"></div>
        </a><h2 class="location">Trait Auction</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.activate_bid">activate_bid</a><a href="#method.add_bid">add_bid</a><a href="#method.delegate">delegate</a><a href="#method.distribute">distribute</a><a href="#method.get_era_validators">get_era_validators</a><a href="#method.read_era_id">read_era_id</a><a href="#method.read_seigniorage_recipients">read_seigniorage_recipients</a><a href="#method.run_auction">run_auction</a><a href="#method.slash">slash</a><a href="#method.undelegate">undelegate</a><a href="#method.withdraw_bid">withdraw_bid</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../../index.html">casper_types</a>::<wbr><a href="../index.html">system</a>::<wbr><a href="index.html">auction</a></h2><div id="sidebar-vars" data-name="Auction" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../casper_types/index.html"><img src="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;CasperLabs&#x2F;casper-node&#x2F;master&#x2F;images&#x2F;CasperLabs_Logo_Symbol_RGB.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../../index.html">casper_types</a>::<wbr><a href="../index.html">system</a>::<wbr><a href="index.html">auction</a>::<wbr><a class="trait" href="#">Auction</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band">
        <a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#53-673" title="goto source code">source</a> ·
        <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div>
<div class="docblock item-decl"><pre class="rust trait"><code>pub trait Auction: <a class="trait" href="trait.StorageProvider.html" title="trait casper_types::system::auction::StorageProvider">StorageProvider</a> + <a class="trait" href="trait.RuntimeProvider.html" title="trait casper_types::system::auction::RuntimeProvider">RuntimeProvider</a> + <a class="trait" href="trait.MintProvider.html" title="trait casper_types::system::auction::MintProvider">MintProvider</a> + <a class="trait" href="trait.AccountProvider.html" title="trait casper_types::system::auction::AccountProvider">AccountProvider</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    fn <a href="#method.get_era_validators" class="fnname">get_era_validators</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="type.EraValidators.html" title="type casper_types::system::auction::EraValidators">EraValidators</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.read_seigniorage_recipients" class="fnname">read_seigniorage_recipients</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="type.SeigniorageRecipients.html" title="type casper_types::system::auction::SeigniorageRecipients">SeigniorageRecipients</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.add_bid" class="fnname">add_bid</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delegation_rate: <a class="type" href="type.DelegationRate.html" title="type casper_types::system::auction::DelegationRate">DelegationRate</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="../../enum.ApiError.html" title="enum casper_types::ApiError">ApiError</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.withdraw_bid" class="fnname">withdraw_bid</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.delegate" class="fnname">delegate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delegator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_delegator_size_limit: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimum_delegation_amount: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u64.html">u64</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="../../enum.ApiError.html" title="enum casper_types::ApiError">ApiError</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.undelegate" class="fnname">undelegate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delegator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.slash" class="fnname">slash</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator_public_keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.run_auction" class="fnname">run_auction</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;era_end_timestamp_millis: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evicted_validators: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.distribute" class="fnname">distribute</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reward_factors: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u64.html">u64</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.read_era_id" class="fnname">read_era_id</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.EraId.html" title="struct casper_types::EraId">EraId</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.activate_bid" class="fnname">activate_bid</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Bonding auction contract interface</p>
</div></details><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.get_era_validators" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#58-62" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.get_era_validators" class="fnname">get_era_validators</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="type.EraValidators.html" title="type casper_types::system::auction::EraValidators">EraValidators</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Returns active validators and auction winners for a number of future eras determined by the
configured auction_delay.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.read_seigniorage_recipients" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#68-77" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.read_seigniorage_recipients" class="fnname">read_seigniorage_recipients</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="type.SeigniorageRecipients.html" title="type casper_types::system::auction::SeigniorageRecipients">SeigniorageRecipients</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Returns validators in era_validators, mapped to their bids or founding stakes, delegation
rates and lists of delegators together with their delegated quantities from delegators.
This function is publicly accessible, but intended for system use by the Handle Payment
contract, because this data is necessary for distributing seigniorage.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.add_bid" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#93-166" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.add_bid" class="fnname">add_bid</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;delegation_rate: <a class="type" href="type.DelegationRate.html" title="type casper_types::system::auction::DelegationRate">DelegationRate</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="../../enum.ApiError.html" title="enum casper_types::ApiError">ApiError</a>&gt;</h4></div></summary><div class="docblock"><p>This entry point adds or modifies an entry in the <code>Key::Bid</code> section of the global state and
creates (or tops off) a bid purse. Post genesis, any new call on this entry point causes a
non-founding validator in the system to exist.</p>
<p>The logic works for both founding and non-founding validators, making it possible to adjust
their delegation rate and increase their stakes.</p>
<p>A validator with its bid inactive due to slashing can activate its bid again by increasing
its stake.</p>
<p>Validators cannot create a bid with 0 amount, and the delegation rate can’t exceed
<a href="constant.DELEGATION_RATE_DENOMINATOR.html" title="DELEGATION_RATE_DENOMINATOR"><code>DELEGATION_RATE_DENOMINATOR</code></a>.</p>
<p>Returns a <a href="../../struct.U512.html" title="U512"><code>U512</code></a> value indicating total amount of tokens staked for given <code>public_key</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.withdraw_bid" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#182-227" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.withdraw_bid" class="fnname">withdraw_bid</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>For a non-founder validator, this method simply decreases a stake.</p>
<p>For a founding validator, this function first checks whether they are released and fails if
they are not.</p>
<p>When a validator’s stake reaches 0 all the delegators that bid their tokens to it are
automatically unbonded with their total staked amount and the bid is deactivated. A bid can
be activated again by staking tokens.</p>
<p>You can’t withdraw higher amount than its currently staked. Withdrawing zero is allowed,
although it does not change the state of the auction.</p>
<p>The function returns the new amount of motes remaining in the bid. If the target bid does
not exist, the function call returns an error.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.delegate" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#235-334" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.delegate" class="fnname">delegate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;delegator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;validator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;max_delegator_size_limit: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;minimum_delegation_amount: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u64.html">u64</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="../../enum.ApiError.html" title="enum casper_types::ApiError">ApiError</a>&gt;</h4></div></summary><div class="docblock"><p>Adds a new delegator to delegators or increases its current stake. If the target validator
is missing, the function call returns an error and does nothing.</p>
<p>The function transfers motes from the source purse to the delegator’s bonding purse.</p>
<p>This entry point returns the number of tokens currently delegated to a given validator.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.undelegate" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#343-388" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.undelegate" class="fnname">undelegate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;delegator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;validator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;amount: <a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.U512.html" title="struct casper_types::U512">U512</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Removes specified amount of motes (or the value from the collection altogether, if the
remaining amount is 0) from the entry in delegators map for given validator and creates a
new unbonding request to the queue.</p>
<p>The arguments are the delegator’s key, the validator’s key, and the amount.</p>
<p>Returns the remaining bid amount after the stake was decreased.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.slash" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#393-429" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.slash" class="fnname">slash</a>(&amp;mut self, validator_public_keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Slashes each validator.</p>
<p>This can be only invoked through a system call.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.run_auction" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#436-546" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.run_auction" class="fnname">run_auction</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;era_end_timestamp_millis: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;evicted_validators: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Takes active_bids and delegators to construct a list of validators’ total bids (their own
added to their delegators’) ordered by size from largest to smallest, then takes the top N
(number of auction slots) bidders and replaces era_validators with these.</p>
<p>Accessed by: node</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.distribute" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#550-645" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.distribute" class="fnname">distribute</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;reward_factors: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u64.html">u64</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Mint and distribute seigniorage rewards to validators and their delegators,
according to <code>reward_factors</code> returned by the consensus component.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.read_era_id" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#648-650" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.read_era_id" class="fnname">read_era_id</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../struct.EraId.html" title="struct casper_types::EraId">EraId</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Reads current era id.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.activate_bid" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/casper_types/system/auction/mod.rs.html#654-672" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.activate_bid" class="fnname">activate_bid</a>(&amp;mut self, validator_public_key: <a class="enum" href="../../crypto/enum.PublicKey.html" title="enum casper_types::crypto::PublicKey">PublicKey</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum casper_types::system::auction::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Activates a given validator’s bid.  To be used when a validator has been marked as inactive
by consensus (aka “evicted”).</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../../implementors/casper_types/system/auction/trait.Auction.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="casper_types" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (1bd4fdc94 2022-01-12)" ></div>
</body></html>